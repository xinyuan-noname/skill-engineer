trigger: { player: "damageEnd" },
logTarget: "source",
preHidden: true,
{{#filter}}
	return event.source && event.source.countGainableCards(player, event.source != player ? "he" : "e") > 0 && event.num > 0;
{{/filter}}
{{#content async=true}}
	{{#a "e" "await"}}{{/a}}player.gainPlayerCard(true, trigger.source, trigger.source != player ? "he" : "e");
	{{#a "e" "insert" players="player|trigger.source"}}{{/a}}
{{/content}}